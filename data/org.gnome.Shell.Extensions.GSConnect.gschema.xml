<?xml version="1.0" encoding="UTF-8"?>
<schemalist gettext-domain="org.gnome.Shell.Extensions.GSConnect">
  <schema id="org.gnome.Shell.Extensions.GSConnect" path="/org/gnome/shell/extensions/gsconnect/">
    <!-- Extension Preferences -->
    <key name="show-indicators" type="b">
      <default>false</default>
      <summary>Show Indicators</summary>
      <description>Display devices in the panel instead of the User Menu</description>
    </key>
    <key name="show-offline" type="b">
      <default>true</default>
      <summary>Show Offline</summary>
      <description>Display devices even if offline</description>
    </key>
    <key name="show-unpaired" type="b">
      <default>true</default>
      <summary>Show Unpaired</summary>
      <description>Display devices even if unpaired</description>
    </key>
    <key name="show-battery" type="b">
      <default>false</default>
      <summary>Show Battery Icon</summary>
      <description>Display an icon with percentage in the Device Menu</description>
    </key>

    <!-- Service Settings (TODO: better default) -->
    <key name="public-name" type="s">
      <default>"GSConnect"</default>
      <summary>Public Name</summary>
      <description>The name visible to other devices</description>
    </key>
    <key name="devices" type="as">
      <default>[]</default>
    </key>
    <!-- TODO: WIP -->
    <key name="donotdisturb" type="i">
        <default>0</default>
    </key>
    <key name="debug" type="b">
      <default>false</default>
      <summary>Debug Mode</summary>
      <description>Enable debug features and logging</description>
    </key>

    <!-- Application Extensions (TODO: should be automatic) -->
    <key name="nautilus-integration" type="b">
      <default>false</default>
      <summary>Nautilus Integration</summary>
      <description>Send files from the file browser context menu</description>
    </key>
    <key name="webbrowser-integration" type="b">
      <default>false</default>
      <summary>Web Browser Integration</summary>
      <description>Share links with devices and contacts from the web browser</description>
    </key>
  </schema>

  <!-- Device Settings -->
  <schema id="org.gnome.Shell.Extensions.GSConnect.Device">
    <key name="certificate-pem" type="s">
      <default>""</default>
    </key>
    <key name="identity" type="a{sv}">
      <default>{}</default>
    </key>
    <key name="id" type="s">
      <default>""</default>
    </key>
    <key name="keybindings" type="s">
      <default>"{}"</default>
    </key>
    <key name="name" type="s">
      <default>""</default>
    </key>
    <key name="type" type="s">
      <default>"unknown"</default>
    </key>
    <key name="incoming-capabilities" type="as">
      <default>[]</default>
    </key>
    <key name="outgoing-capabilities" type="as">
      <default>[]</default>
    </key>
    <key name="tcp-host" type="s">
      <default>""</default>
    </key>
    <key name="tcp-port" type="u">
      <default>1716</default>
    </key>
  </schema>

  <!-- Plugin Settings

  Each plugin has a uint32 "allow" determining whether actions requiring a
  direction of traffic will be allowed, however signals are always emitted.

  AllowTraffic flags
    1  NONE         No traffic allowed
    2  OUT          Allow outgoing traffic
    4  IN           Allow incoming traffic
    8  RESERVED1    Allow <type> traffic
    16 RESERVED2    Allow <type> traffic
    32 RESERVED3    Allow <type> traffic
    64 RESERVED4    Allow <type> traffic
  -->
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Battery">
    <key name="allow" type="u">
      <default>4</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Clipboard">
    <key name="allow" type="u">
      <default>1</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
  <!-- TODO this plugin hasn't been written yet -->
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Contacts">
    <key name="allow" type="u">
      <default>1</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.FindMyPhone">
    <key name="allow" type="u">
      <default>2</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Mousepad">
    <key name="allow" type="u">
      <default>2</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.MPRIS">
    <key name="allow" type="u">
      <default>4</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Notification">
    <key name="allow" type="u">
      <default>4</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="applications" type="s">
      <default>'{}'</default>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Ping">
    <key name="allow" type="u">
      <default>6</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.RunCommand">
    <key name="allow" type="u">
      <default>2</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>

    <key name="command-list" type="a{sv}">
      <default>{}</default>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.SFTP">
    <key name="allow" type="u">
      <default>6</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Share">
    <key name="allow" type="u">
      <default>2</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default>{}</default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
  <schema id="org.gnome.Shell.Extensions.GSConnect.Plugin.Telephony">
    <key name="allow" type="u">
      <!-- Allow.IN | Allow.OUT | Allow.SMS | Allow.CALLS -->
      <default>30</default>
      <summary>Allow Traffic</summary>
      <description>Allow flags for directional traffic</description>
    </key>
    <key name="events" type="a{sv}">
      <default><![CDATA[{'missedCall': <{'callNotification': <true>}>, 'ringing': <{'callNotification': <true>}>, 'sms': <{'smsNotification':<true>}>, 'talking': <{'callNotification': <true>}>}]]></default>
      <summary>Event Handlers</summary>
      <description>Actions to be invoked when events are emitted</description>
    </key>
  </schema>
</schemalist>

